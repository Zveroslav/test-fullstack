(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(76)},48:function(e,t,n){},49:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(39),u=n.n(c),s=(n(48),n(12)),i=n(13),l=n(15),o=n(14),p=n(16),m=(n(49),n(78)),f=n(79),d=n(80),E=n(21),h="http://localhost:8080",b={USER_LOGIN:"USER_LOGIN",LOAD_USER_LIST:"LOAD_USER_LIST",GET_USER_LIST:"GET_USER_LIST",GET_SITE_LIST:"GET_SITE_LIST",FAIL:"FAIL",PROCESS:"PROCESS",DONE:"DONE"},v=Object(E.b)(function(e){return{userList:e.user.userList,stateRequest:e.stateRequest}},function(e){return{loadUsers:function(){e({type:b.LOAD_USER_LIST})},saveUser:function(t){e(function(e){return{type:b.USER_LOGIN,user:e}}(t))}}})(function(e){var t=e.loadUsers,n=e.saveUser,r=e.userList,c=void 0===r?[]:r,u=e.stateRequest;return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("button",{onClick:function(){return t()}},"Get Users")),c.map(function(e){return a.a.createElement("li",{key:e.id},e.id," - ",e.username," ",a.a.createElement("button",{onClick:function(){return n(e)}},"Login"))}),a.a.createElement("div",null,u.fail?a.a.createElement("p",null,"Incorrect pass or login"):"",u.process?a.a.createElement("p",null,"Loading"):""))}),O=function(){return a.a.createElement("p",null,"Page not found")},y=n(77),j=function(e){var t=e.children;return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement(y.a,{to:"/login"},"Login")),a.a.createElement("p",null,a.a.createElement(y.a,{to:"/sites"},"Sites")),t)},L=n(5),S=n.n(L),k=n(11),w=n(19),x=n.n(w);function g(){return(g=Object(k.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(h+"/sites");case 2:if(t=e.sent,!(n=t.data)||!Array.isArray(n)){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(e){var t=this;this.props.user.user||this.props.history.push("/login"),function(){return g.apply(this,arguments)}().then(function(e){return t.setState({siteList:e})})}},{key:"render",value:function(){if(this.state){var e=this.state.siteList;return a.a.createElement("div",null,e.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("h3",null,e.title),a.a.createElement("p",null,a.a.createElement(y.a,{to:"/sites/"+e.id+"/alarmZones"},"alarmZones")),a.a.createElement("p",null,a.a.createElement(y.a,{to:"/sites/"+e.id+"/devices"},"devices")))}))}return a.a.createElement("p",null,"Loading")}}]),t}(a.a.Component),_=Object(E.b)(function(e){return{stateRequest:e.stateRequest,user:e.user}},null)(I);function R(e){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(h+"/sites/"+t+"/alarmzones");case 2:if(n=e.sent,!(r=n.data)||!Array.isArray(r)){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var T=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=Object(k.a)(S.a.mark(function e(t){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.match.params.siteId,e.t0=this,e.next=4,R(n);case 4:e.t1=e.sent,e.t2={alarmZoneList:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state){var e=this.state.alarmZoneList;return console.log(e),a.a.createElement("div",null,e.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("h3",null,e.name),a.a.createElement("p",null,e.armed?"armed":"no armed"))}))}return a.a.createElement("p",null,"Loading")}}]),t}(a.a.Component);function U(e){return C.apply(this,arguments)}function C(){return(C=Object(k.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(h+"/sites/"+t+"/devices");case 2:if(n=e.sent,!(r=n.data)||!Array.isArray(r)){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G=function(e){var t=e.device;return a.a.createElement("tr",null,a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.model),a.a.createElement("td",null,t.connected?"+":"-"),a.a.createElement("td",null,t.storages.map(function(e){return a.a.createElement("p",{key:e.id},e.type," : ",e.state)})),a.a.createElement("td",null,t.alarmZoneId))},D=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=Object(k.a)(S.a.mark(function e(t){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.match.params.siteId,e.t0=this,e.next=4,U(n);case 4:e.t1=e.sent,e.t2={deviceList:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state){var e=this.state.deviceList;return console.log(e),a.a.createElement("div",null,a.a.createElement("table",{id:"device-border"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Device name"),a.a.createElement("th",null,"Model"),a.a.createElement("th",null,"Connected"),a.a.createElement("th",null,"Storages"),a.a.createElement("th",null,"Alarm zone")),e.map(function(e){return a.a.createElement(G,{key:e.id,device:e})}))))}return a.a.createElement("p",null,"Loading")}}]),t}(a.a.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(j,null,a.a.createElement(f.a,null,a.a.createElement(d.a,{exact:!0,path:"/",component:function(){return a.a.createElement("p",null,"Test App")}}),a.a.createElement(d.a,{exact:!0,path:"/login",component:v}),a.a.createElement(d.a,{exact:!0,path:"/sites",component:_}),a.a.createElement(d.a,{path:"/sites/:siteId/alarmZones",component:T}),a.a.createElement(d.a,{path:"/sites/:siteId/devices",component:D}),a.a.createElement(d.a,{component:O}))))}}]),t}(a.a.Component),q=n(17),Z=n(30),P=Object(q.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.USER_LOGIN:return Object(Z.a)({},e,{user:t.user});case b.GET_USER_LIST:return Object(Z.a)({},e,{userList:t.userList});default:return e}},stateRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case b.FAIL:return{fail:!0};case b.PROCESS:return{process:!0};case b.DONE:return{process:!1,fail:!1};default:return e}}}),W=n(42),F=n(20),M=S.a.mark(B),z=S.a.mark(J);function B(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.c)(b.LOAD_USER_LIST,J);case 2:case"end":return e.stop()}},M)}function J(){var e;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.b)({type:b.PROCESS});case 2:return t.next=4,Object(F.a)($);case 4:if(!(e=t.sent)){t.next=12;break}return t.next=8,Object(F.b)({type:b.DONE});case 8:return t.next=10,Object(F.b)({userList:e,type:b.GET_USER_LIST});case 10:t.next=14;break;case 12:return t.next=14,Object(F.b)({type:b.FAIL});case 14:case"end":return t.stop()}},z)}function $(){return H.apply(this,arguments)}function H(){return(H=Object(k.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(h+"/users");case 2:if(t=e.sent,!(n=t.data)||!Array.isArray(n)){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var K=Object(W.a)(),Q=function(e){return function(e){return function(t){e(t)}}},V=function(){var e=Object(q.a)(Q,K)(q.e)(P,{});return K.run(B),e}();window.store=V;var X=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E.a,{store:V},a.a.createElement(N,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.b5a94bc4.chunk.js.map